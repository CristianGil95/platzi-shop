{"version":3,"file":"akita-filters-plugin.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://akita-filters-plugin/lib/filters-utils.ts","ng://akita-filters-plugin/lib/akita-filters-store.ts","ng://akita-filters-plugin/lib/akita-filters-query.ts","ng://akita-filters-plugin/lib/akita-filters-plugin.ts","ng://akita-filters-plugin/lib/bonus/akita-mat-data-source.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","// import { isDefined, isObject, isString } from 'akita';\nimport { AkitaFilter } from './akita-filters-store';\nimport {isDefined, isString, isObject, HashMap, getEntityType} from '@datorama/akita';\n\n/**\n * Helper function to do a default filter\n */\nexport function defaultFilter<E = any, S = any>(\n  value: E | getEntityType<S>,\n  index: number, array: E[] | HashMap<getEntityType<E>>,\n  filter: AkitaFilter<E, S> ): boolean {\n  if ( isObject(value) && isString(filter.value) ) {\n    return searchFilter(filter.value, value);\n  }\n  return isDefined(filter.value) ? filter.value === value : !!value;\n}\n\n/**\n * Helper function to do search on all string element\n */\nexport function searchFilter( searchKey: string, inObj: Object ): boolean {\n  return isString(searchKey)  && Object.keys(inObj).some(function( key ) {\n    return isString(inObj[key]) && inObj[key].toLocaleLowerCase().includes(searchKey.toLocaleLowerCase());\n  });\n}\n\n/**\n * Helper function to do search in one key of an object\n */\nexport function searchFilterIn( searchKey: string, inObj: Object, inKey: string ): boolean {\n  return  isString(searchKey)\n    && isString(inKey)\n    && isString(inObj[inKey])\n    && inObj[inKey].toLocaleLowerCase().includes(searchKey.toLocaleLowerCase());\n}\n","\nimport { defaultFilter } from './filters-utils';\nimport {EntityState, EntityStore, getEntityType, guid, HashMap, ID, SortByOptions, StoreConfig} from '@datorama/akita';\n\nfunction capitalize(str: string): string {\n  return str.charAt(0).toUpperCase() + str.substr(1);\n}\n\nexport interface AkitaFilter<S extends EntityState, E = getEntityType<S>> {\n  id: ID;\n  /** A corresponding name for display the filter, by default, it will be ${id): ${value}  */\n  name?: string;\n  /** set the order for filter, by default, it is 10 */\n  order?: number;\n  /** The filter value, this will be used to compute name, or getting the current value, to initiate your form */\n  value?: any;\n  /** If you want to have filter that is not displayed on the list */\n  hide?: boolean;\n  /** If you have enabled server filter, specify witch filters will be call to server, default to false. */\n  server?: boolean;\n  /** The function to apply filters, by default use defaultFilter helpers, that will search the value in the object */\n  predicate: ( entity: E, index: number, array: E[] | HashMap<E>, filter: AkitaFilter<S> ) => boolean;\n  /** add any other data you want to add **/\n  [key: string]: any;\n}\n\nexport function createFilter<S extends EntityState, E = getEntityType<S>>( filterParams: Partial<AkitaFilter<S, E>> ) {\n  const id = filterParams.id ? filterParams.id : guid();\n  const name = filterParams.name || (filterParams.value && filterParams.id ?\n    `${capitalize(filterParams.id.toString())}: ${filterParams.value.toString()}` : undefined);\n\n  if ( !filterParams.predicate && filterParams.value ) {\n    /** use default function, if not provided */\n    // @ts-ignore\n    filterParams.predicate = defaultFilter;\n  }\n\n  return { id, name, hide: false, order: 10, server: false, ...filterParams } as AkitaFilter<S>;\n}\n\nexport interface FiltersState<S extends EntityState, E = getEntityType<S>> extends EntityState<AkitaFilter<S, E>> {\n  sort: SortByOptions<any>;\n}\n\n@StoreConfig({ name: 'filters' })\nexport class AkitaFiltersStore<S extends EntityState> extends EntityStore<FiltersState<S>, AkitaFilter<S>> {\n  constructor( storeName: string ) {\n    super(undefined, { name: storeName });\n  }\n}\n","import { AkitaFilter, FiltersState, AkitaFiltersStore } from './akita-filters-store';\nimport {EntityState, getEntityType, Order, QueryConfig, QueryEntity} from '@datorama/akita';\n\n\n@QueryConfig({\n  sortBy: 'order',\n  sortByOrder: Order.ASC\n})\nexport class AkitaFiltersQuery<S extends EntityState> extends QueryEntity<FiltersState<S>, AkitaFilter<S>, string> {\n  constructor(protected store: AkitaFiltersStore<S>) {\n    super(store);\n  }\n}\n","import {AkitaFilter, AkitaFiltersStore, createFilter, FiltersState} from './akita-filters-store';\nimport {AkitaFiltersQuery} from './akita-filters-query';\nimport {combineLatest, isObservable, merge, Observable, ObservedValueOf, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {\n  compareValues,\n  EntityCollectionPlugin,\n  EntityState,\n  EntityStore,\n  getEntityType,\n  getIDType,\n  HashMap,\n  ID,\n  isFunction,\n  isUndefined,\n  OrArray,\n  QueryEntity,\n  SelectAllOptionsA,\n  SelectAllOptionsB,\n  SelectAllOptionsC,\n  SelectAllOptionsD,\n  SelectAllOptionsE,\n  SortByOptions\n} from '@datorama/akita';\n\nexport interface FiltersParams<S extends EntityState> {\n  filtersStoreName?: string;\n  entityIds?: OrArray<getIDType<S>>;\n\n  [key: string]: any;\n}\n\ninterface NormalizedFilterOptions {\n  withSort?: boolean;\n  asQueryParams?: boolean;\n  sortByKey?: string;\n  sortByOrderKey?: string;\n}\n\nexport class AkitaFiltersPlugin<S extends EntityState, E = getEntityType<S>, I = OrArray<getIDType<S>>, P = any>\n  extends EntityCollectionPlugin<S, P> {\n\n  private readonly _filtersStore: AkitaFiltersStore<S>;\n  private readonly _filtersQuery: AkitaFiltersQuery<S>;\n  private _server: boolean = false;\n\n  private _selectFilters$: Observable<AkitaFilter<S>[]>;\n  private readonly _selectSortBy$: Observable<SortByOptions<E> | null>;\n  private readonly _selectFiltersAll$: Observable<AkitaFilter<S>[]>;\n\n  constructor(protected query: QueryEntity<S>, private params: FiltersParams<S> = {}) {\n    super(query, params.entityIds);\n    this.params = {...{filtersStoreName: this.getStore().storeName + 'Filters'}, ...params};\n\n    this._filtersStore = new AkitaFiltersStore<S>(this.params.filtersStoreName);\n    this._filtersQuery = new AkitaFiltersQuery<S>(this._filtersStore);\n\n    this._selectFilters$ = this.filtersQuery.selectAll({sortBy: 'order'});\n    this._selectFiltersAll$ = this.filtersQuery.selectAll({sortBy: 'order', filterBy: filter => !filter.hide});\n    this._selectSortBy$ = this.filtersQuery.select(state => state && state.sort ? state.sort : null);\n  }\n\n  get filtersStore(): AkitaFiltersStore<S> {\n    return this._filtersStore;\n  }\n\n  get filtersQuery(): AkitaFiltersQuery<S> {\n    return this._filtersQuery;\n  }\n\n  /**\n   *  Add support of filters from server. Provide a function that will be call each time a filter changes\n   *\n   *  new AkitaFilterPlugins(query).withServer((filters) => {\n   *      return this.api.getData(filters);\n   *  });\n   *\n   *  Return false to not add in store. if you want to manage the store in your own.\n   */\n  withServer(\n    onChangeFilter: (filtersNormalized: string | HashMap<any>) => any | boolean,\n    options: NormalizedFilterOptions = {}): AkitaFiltersPlugin<S, E, I, P> {\n    this._server = true;\n\n    // Change default select filters to remove server filters, if you use selectAllByFilters();\n    this._selectFilters$ = this._filtersQuery.selectAll({sortBy: 'order', filterBy: filter => !filter.server});\n\n    const listObservable: Array<Observable<any>> = [];\n    listObservable.push(this._filtersQuery.selectAll({sortBy: 'order', filterBy: filter => filter.server}));\n\n    if (options.withSort) {\n      listObservable.push(this.selectSortBy());\n    }\n    merge<Observable<getEntityType<S>[]> | Observable<SortByOptions<E> | null>>(listObservable).subscribe(() => {\n      const returnOnChange: boolean | Observable<getEntityType<S>[]> = onChangeFilter(this.getNormalizedFilters(options));\n\n      if (returnOnChange !== false && isObservable(returnOnChange)) {\n        returnOnChange.subscribe((newValue: getEntityType<S>[]) => {\n          this.getStore().set(newValue);\n        });\n      }\n    });\n    return this;\n  }\n\n  /** Return true, if server is configured **/\n  hasServer(): boolean {\n    return this._server;\n  }\n\n  /**\n   *  Select all filters\n   *\n   *  Note: Only all filters not hided (with hide=true), will not be displayed. If you want it, call directly to:\n   * `this.filtersQuery.selectAll()`\n   *\n   *\n   */\n  selectFilters(): Observable<AkitaFilter<S>[]> {\n    return this._selectFiltersAll$;\n  }\n\n  /**\n   * Get all the current snapshot filters\n   *\n   *  Note: filters with hide=true, will not be displayed. If you want it, call directly to:\n   * `this.filtersQuery.getAll()`\n   */\n  getFilters(): AkitaFilter<S>[] {\n    return this._filtersQuery.getAll({filterBy: filter => !filter.hide});\n  }\n\n  /**\n   * Get all the current snapshot server filters (only if server is available else return default not hidden filters)\n   *\n   *  Note: filters with server=false, will not be displayed. If you want it, call directly to:\n   * `this.filtersQuery.getAll()`\n   */\n  getServerFilters(): AkitaFilter<S>[] {\n    return this._server ? this._filtersQuery.getAll({filterBy: filter => !filter.server}) : this.getFilters();\n  }\n\n  /**\n   * Select All Entity with apply filter to it, and updated with any change (entity or filter)\n   * Will not apply sort, if need return   asObject:true !\n   */\n  selectAllByFilters(options?: SelectAllOptionsA<E>\n    | SelectAllOptionsB<E> | SelectAllOptionsC<E> |\n    SelectAllOptionsD<E> | SelectAllOptionsE<E> | any): Observable<getEntityType<S>[] | HashMap<getEntityType<S>>> {\n    if (options && options.asObject) {\n      return combineLatest(this._selectFilters$, this.getQuery().selectAll(options)).pipe(\n        map(([filters, entities]) => {\n          const unkNowEntity: unknown = entities;\n          return this._applyFiltersForHashMap((unkNowEntity as HashMap<getEntityType<S>>), filters);\n        })\n      );\n    } else {\n\n      return combineLatest(this._selectFilters$, this.getQuery().selectAll(options), this.selectSortBy()).pipe(\n        map(([filters, entities, sort]) => {\n          const unkNowEntity: unknown = entities;\n          return this._applyFiltersForArray((unkNowEntity as getEntityType<S>[]), filters, sort);\n        })\n      );\n    }\n  }\n\n  /**\n   * Create or update a filter\n   */\n  setFilter(filter: Partial<AkitaFilter<S>>) {\n    if (this._server && isUndefined(typeof filter.server)) {\n      filter.server = true;\n    }\n    const entity = createFilter(filter);\n    this.filtersStore.upsert(entity.id, entity);\n  }\n\n  /**\n   * Remove a Filter\n   */\n  removeFilter(id: ID) {\n    this.filtersStore.remove(id);\n  }\n\n  /**\n   * Clear all filters\n   */\n  clearFilters() {\n    this.filtersStore.remove();\n  }\n\n  /**\n   * Get filter value, return null, if value not available\n   */\n  getFilterValue<T = any>(id: string): T | null {\n    if (this.filtersQuery.hasEntity(id)) {\n      const entity: AkitaFilter<S> = this.filtersQuery.getEntity(id);\n      return entity.value ? entity.value : null;\n    }\n\n    return null;\n  }\n\n  /**\n   * Get filter value, return null, if value not available\n   */\n  getSortValue(): SortByOptions<E> | null {\n    const state: FiltersState<S> = this.filtersQuery.getValue();\n    return state.sort ? state.sort : null;\n  }\n\n  /**\n   * Select Sort by value\n   */\n  public selectSortBy(): Observable<SortByOptions<E> | null> {\n    return this._selectSortBy$;\n  }\n\n  /**\n   * Set orderBy\n   */\n  setSortBy(order: SortByOptions<E>) {\n    this.filtersStore.update({sort: order});\n  }\n\n  /**\n   * Get the filters normalized as key value or as query params.\n   * This can be useful for server-side filtering\n   */\n  getNormalizedFilters(options: NormalizedFilterOptions = {}): string | HashMap<any> {\n    const result = {};\n    options = {sortByKey: 'sortBy', sortByOrderKey: 'sortByOrder', ...options};\n\n    for (const filter of this.getServerFilters()) {\n      result[filter.id] = filter.value;\n    }\n\n    if (options.withSort) {\n      const sort = this.getSortValue();\n      result[options.sortByKey] = sort.sortBy;\n      result[options.sortByOrderKey] = sort.sortByOrder;\n    }\n\n    if (options.asQueryParams) {\n      return this._serialize(result);\n    }\n\n    return result;\n  }\n\n  destroy() {\n    this.clearFilters();\n  }\n\n\n\n  /** This method is responsible for getting access to the query. */\n  protected getQuery(): QueryEntity<S> {\n    return this.query;\n  }\n\n  /** This method is responsible for getting access to the store. */\n  protected getStore(): EntityStore<S> {\n    return this.getQuery().__store__;\n  }\n\n  private _serialize(obj) {\n    return Object.keys(obj)\n      .map(k => `${encodeURIComponent(k)}=${encodeURIComponent(obj[k])}`)\n      .join('&');\n  }\n\n  private _applyFiltersForArray(\n    entities: getEntityType<S>[],\n    filters: AkitaFilter<S>[],\n    sort: ObservedValueOf<Observable<SortByOptions<E> | null>>): getEntityType<S>[] {\n    let entitiesFiltered = entities;\n    if (filters.length !== 0) {\n      entitiesFiltered = entities.filter((entity: getEntityType<S>, index: number, array: getEntityType<S>[]) => {\n        return filters.every((filter: AkitaFilter<S>) => {\n          if (filter.predicate) {\n            return !!filter.predicate(entity, index, array, filter);\n          }\n          return true;\n        });\n      });\n    }\n\n    if (sort && sort.sortBy) {\n      const _sortBy: any = isFunction(sort.sortBy) ? sort.sortBy : compareValues(sort.sortBy, sort.sortByOrder);\n      entitiesFiltered = [...entitiesFiltered.sort((a, b) => _sortBy(a, b, entities))];\n    }\n    return entitiesFiltered;\n  }\n\n  private _applyFiltersForHashMap(\n    entities: HashMap<getEntityType<S>>,\n    filters: AkitaFilter<S>[]): HashMap<getEntityType<S>> {\n    if (filters.length === 0) {\n      return entities;\n    }\n      const hashMapFiltered: HashMap<getEntityType<S>> = {};\n      Object.keys(entities).forEach((entityKey: string, index: number) => {\n        const entity: getEntityType<S> = entities[entityKey] as getEntityType<S>;\n        if (this._applyFiltersForOneEntity(filters, entity, index, entities)) {\n          hashMapFiltered[entityKey] = entity;\n        }\n      });\n\n      return hashMapFiltered;\n  }\n\n  private _applyFiltersForOneEntity(filters: AkitaFilter<S>[],\n                                    entity: getEntityType<S>, index: number,\n                                    array: getEntityType<S>[] | HashMap<getEntityType<S>>) {\n    return filters.every((filter: AkitaFilter<S>) => {\n      if (filter.predicate) {\n        return !!filter.predicate(entity, index, array, filter);\n      }\n      return true;\n    });\n  }\n\n  protected instantiatePlugin(id: I): P {\n    return null;\n  }\n}\n","import {DataSource} from '@angular/cdk/table';\nimport {BehaviorSubject, combineLatest, merge, Observable, of, Subject, Subscription} from 'rxjs';\nimport {EntityState, getEntityType, ID, Order, QueryEntity} from '@datorama/akita';\nimport {AkitaFilter} from '../akita-filters-store';\nimport {AkitaFiltersPlugin} from '../akita-filters-plugin';\nimport {map, takeUntil, tap} from 'rxjs/operators';\nimport {MatSort, Sort} from '@angular/material/sort';\nimport { MatPaginator, PageEvent } from '@angular/material/paginator';\n\nexport class AkitaMatDataSource<S extends EntityState = any, E = getEntityType<S>> extends DataSource<E> {\n\n\n\n\n  /**\n   * Data source to use an Akita EntityStore with a Material table\n   * @see : https://material.angular.io/components/table/overview\n   *\n   * @param query string : [Mandatory] the akita Query Entity, you wan to use to this data source.\n   * @param akitaFilters string [Optional] If you want to provide an AkitaFilters that you use externally. Else it will create a new one.\n   */\n  constructor(query: QueryEntity<getEntityType<S>> | any, akitaFilters?: AkitaFiltersPlugin<S, E>) {\n    super();\n    this._dataQuery = query;\n\n    this._filters = akitaFilters ? akitaFilters : new AkitaFiltersPlugin<S, E>(query);\n    this._hasCustomFilters = !!akitaFilters;\n    this._count$ = new BehaviorSubject(0);\n\n    let count = 0;\n    // @ts-ignore ignore, as without options, we will allways have an Array.\n    this._selectAllByFilter$ = this._filters.selectAllByFilters();\n    this._updateChangeSubscription();\n  }\n\n  /**\n   * @param searchQuery teh string use to search\n   */\n  set filter(searchQuery: string) {\n    this.search = searchQuery;\n  }\n\n  /**\n   * filter all the list by a search term.\n   *\n   * use like a property :\n   * akitaMatDataSourceInstance.search = 'term';\n   * @param searchQuery the string use to search\n   */\n  set search(searchQuery: string) {\n    if (searchQuery === '') {\n      this._filters.removeFilter('search');\n    } else {\n      this._filters.setFilter({id: 'search', value: searchQuery});\n    }\n  }\n\n  /**\n   * Instance of the MatSort directive used by the table to control its sorting. Sort changes\n   * emitted by the MatSort will trigger an update to the table's rendered data.\n   */\n  set sort(sort: MatSort) {\n    this._sort = sort;\n    sort.sortChange.pipe(takeUntil(this._disconnect)).subscribe((sortValue: Sort) => {\n      this._filters.setSortBy({\n        sortBy: sortValue.active as keyof E,\n        sortByOrder: sortValue.direction === 'desc' ? Order.DESC : Order.ASC\n      });\n    });\n\n    sort.initialized.subscribe(() => {\n      this.setDefaultSort(sort.active as keyof E, sort.direction === 'desc' ? Order.DESC : Order.ASC);\n    });\n  }\n\n  /**\n   * Instance of the MatPaginator component used by the table to control what page of the data is\n   * displayed. Page changes emitted by the MatPaginator will trigger an update to the\n   * table's rendered data.\n   *\n   * Note that the data source uses the paginator's properties to calculate which page of data\n   * should be displayed. If the paginator receives its properties as template inputs,\n   * e.g. `[pageLength]=100` or `[pageIndex]=1`, then be sure that the paginator's view has been\n   * initialized before assigning it to this data source.\n   */\n  get paginator(): MatPaginator {\n    return this._paginator;\n  }\n\n  set paginator(paginator: MatPaginator) {\n    this._paginator = paginator;\n    this._updateChangeSubscription();\n  }\n\n  /**\n   * @deprecated use get akitaFiltersPlugin\n   */\n  get AkitaFilters(): AkitaFiltersPlugin<S, E, any> {\n    return this._filters;\n  }\n  /**\n   * Access to AkitaFiltersPlugins, usefull to interact with all filters\n   */\n  get akitaFiltersPlugIn(): AkitaFiltersPlugin<S, E> {\n    return this._filters;\n  }\n\n  private _dataQuery: QueryEntity<E>;\n  private readonly _filters: AkitaFiltersPlugin<S, E>;\n  /** if set a custom filter plugins, do not delete all in disconnect() **/\n  private _hasCustomFilters: boolean;\n  private _paginator: MatPaginator = null;\n  private _sort: MatSort = null;\n\n  private _selectAllByFilter$: Observable<E[]>;\n  private _count$: BehaviorSubject<number>;\n  /** Used to react to internal changes of the paginator that are made by the data source itself. */\n  private readonly _internalPageChanges = new Subject<void>();\n  /** Stream emitting render data to the table (depends on ordered data changes). */\n  private readonly _renderData = new BehaviorSubject<E[]>([]);\n  /** Used to react to internal changes of the paginator that are made by the data source itself. */\n  private readonly _disconnect = new Subject<void>();\n\n\n\n  /**\n   * Subscription to the changes that should trigger an update to the table's rendered rows, such\n   * as filtering, sorting, pagination, or base data changes.\n   */\n  _renderChangesSubscription = Subscription.EMPTY;\n\n  private _updateCount(value: E[]) {\n    const count = value.length ? value.length : 0;\n    if (count !== this._count$.getValue()) {\n      this._count$.next(count);\n\n      this._updatePaginator(count);\n    }\n  }\n\n  /**\n   * Paginate the data (client-side). If you're using server-side pagination,\n   * this would be replaced by requesting the appropriate data from the server.\n   */\n  private _pageData(data: E[]) {\n    this._updateCount(data);\n    if (!this.paginator) { return data; }\n\n    const startIndex = this.paginator.pageIndex * this.paginator.pageSize;\n    return data.slice(startIndex, startIndex + this.paginator.pageSize);\n  }\n\n  /**\n   *  add a filter to filters plugins\n   */\n  addFilter(filter: Partial<AkitaFilter<S>>): void {\n    this._filters.setFilter(filter);\n  }\n\n  /**\n   *  add a filter to filters plugins\n   */\n  setFilter(filter: Partial<AkitaFilter<S>>): void {\n    this._filters.setFilter(filter);\n  }\n\n  /**\n   * Remove a AkitaFilter\n   */\n  removeFilter(id: ID): void {\n    this._filters.removeFilter(id);\n  }\n\n  /**\n   * Clear all filters\n   */\n  clearFilters(): void {\n    this._filters.clearFilters();\n  }\n\n  /**\n   * Get filter value, return null, if value not available\n   */\n  getFilterValue<V = E>(id: string): V | null {\n    return this._filters.getFilterValue(id);\n  }\n\n  /**\n   * Set the default sort\n   * @param sortColumn the colum name present in your object\n   * @param direction string the direction for sorting (asc or desc). Default asc.\n   */\n  public setDefaultSort(\n    sortColumn: keyof E,\n    direction: 'asc' | 'desc' = 'asc'\n  ) {\n    this._filters.setSortBy({\n      sortBy: sortColumn,\n      sortByOrder: direction === 'desc' ? Order.DESC : Order.ASC\n    });\n  }\n\n  /**\n   * Select Count filtered results.\n   */\n  selectCount(): Observable<number> {\n    return this._count$.asObservable();\n  }\n\n  /**\n   * Select Count filtered results.\n   */\n  getCount(): number {\n    return this._count$.getValue();\n  }\n\n  /**\n   * Subscribe to changes that should trigger an update to the table's rendered rows. When the\n   * changes occur, process the current state of the filter, sort, and pagination along with\n   * the provided base data and send it to the table for rendering.\n   */\n  _updateChangeSubscription() {\n    // Sorting and/or pagination should be watched if MatSort and/or MatPaginator are provided.\n    // The events should emit whenever the component emits a change or initializes, or if no\n    // component is provided, a stream with just a null event should be provided.\n    // The `sortChange` and `pageChange` acts as a signal to the combineLatests below so that the\n    // pipeline can progress to the next step. Note that the value from these streams are not used,\n    // they purely act as a signal to progress in the pipeline.\n\n    const pageChange: Observable<PageEvent|null|void> = this._paginator ?\n      merge(\n        this._paginator.page,\n        this._internalPageChanges,\n        this._paginator.initialized\n      ) as Observable<PageEvent|void> :\n      of(null);\n\n    const paginatedData = combineLatest(this._selectAllByFilter$, pageChange)\n      .pipe(map(([data]) => this._pageData(data)));\n    // Watched for paged data changes and send the result to the table to render.\n    this._renderChangesSubscription.unsubscribe();\n    this._renderChangesSubscription = paginatedData.pipe(takeUntil(this._disconnect)).subscribe(data => this._renderData.next(data));\n    this._internalPageChanges.next();\n  }\n\n  /**\n   * Updates the paginator to reflect the length of the filtered data, and makes sure that the page\n   * index does not exceed the paginator's last page. Values are changed in a resolved promise to\n   * guard against making property changes within a round of change detection.\n   */\n  _updatePaginator(filteredDataLength: number) {\n    Promise.resolve().then(() => {\n      const paginator = this.paginator;\n\n      if (!paginator) { return; }\n\n      paginator.length = filteredDataLength;\n\n      // If the page index is set beyond the page, reduce it to the last page.\n      if (paginator.pageIndex > 0) {\n        const lastPageIndex = Math.ceil(paginator.length / paginator.pageSize) - 1 || 0;\n        const newPageIndex = Math.min(paginator.pageIndex, lastPageIndex);\n\n        if (newPageIndex !== paginator.pageIndex) {\n          paginator.pageIndex = newPageIndex;\n\n          // Since the paginator only emits after user-generated changes,\n          // we need our own stream so we know to should re-render the data.\n          this._internalPageChanges.next();\n        }\n      }\n    });\n  }\n\n  /**\n   * Function used by matTable to subscribe to the data\n   */\n  connect(): Observable<E[]> {\n    return this._renderData;\n  }\n\n\n  /**\n   * Used by the MatTable. Called when it is destroyed. No-op.\n   * @docs-private\n   */\n  disconnect(): void {\n    if (!this._hasCustomFilters) {\n      this._filters.clearFilters();\n      this._filters.destroy();\n    }\n    this._disconnect.next();\n    this._disconnect.complete();\n  }\n}\n"],"names":["isObject","isString","isDefined","guid","tslib_1.__extends","StoreConfig","EntityStore","QueryConfig","Order","QueryEntity","merge","isObservable","combineLatest","map","isUndefined","tslib_1.__values","isFunction","compareValues","EntityCollectionPlugin","Subject","BehaviorSubject","Subscription","takeUntil","of","DataSource"],"mappings":";;;;;;IAAA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;;IAEA,IAAI,aAAa,GAAG,SAAS,CAAC,EAAE,CAAC,EAAE;IACnC,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;IACzC,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;IACpF,QAAQ,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACnF,IAAI,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC;;AAEF,IAAO,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;IAChC,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,IAAI,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;IAC3C,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC;;AAED,IAAO,IAAI,QAAQ,GAAG,WAAW;IACjC,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC,EAAE;IACrD,QAAQ,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IAC7D,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC7B,YAAY,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACzF,SAAS;IACT,QAAQ,OAAO,CAAC,CAAC;IACjB,MAAK;IACL,IAAI,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C,EAAC;;AAED,IAAO,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;IAC7B,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;IACf,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;IACvF,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,OAAO,MAAM,CAAC,qBAAqB,KAAK,UAAU;IACvE,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IAChF,YAAY,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1F,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC,SAAS;IACT,IAAI,OAAO,CAAC,CAAC;IACb,CAAC;;AAED,IAAO,SAAS,UAAU,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IAC1D,IAAI,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IACjI,IAAI,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;IACnI,SAAS,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IACtJ,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAClE,CAAC;;AAED,IAAO,SAAS,OAAO,CAAC,UAAU,EAAE,SAAS,EAAE;IAC/C,IAAI,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;IACzE,CAAC;;AAED,IAAO,SAAS,UAAU,CAAC,WAAW,EAAE,aAAa,EAAE;IACvD,IAAI,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,OAAO,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;IACnI,CAAC;;AAED,IAAO,SAAS,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IAC7D,IAAI,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;IAC/D,QAAQ,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;IACnG,QAAQ,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;IACtG,QAAQ,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;IACvJ,QAAQ,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;IAC9E,KAAK,CAAC,CAAC;IACP,CAAC;;AAED,IAAO,SAAS,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE;IAC3C,IAAI,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACrH,IAAI,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC7J,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IACtE,IAAI,SAAS,IAAI,CAAC,EAAE,EAAE;IACtB,QAAQ,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;IACtE,QAAQ,OAAO,CAAC,EAAE,IAAI;IACtB,YAAY,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IACzK,YAAY,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;IACpD,YAAY,QAAQ,EAAE,CAAC,CAAC,CAAC;IACzB,gBAAgB,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;IAC9C,gBAAgB,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;IACxE,gBAAgB,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;IACjE,gBAAgB,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;IACjE,gBAAgB;IAChB,oBAAoB,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;IAChI,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;IAC1G,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;IACzF,oBAAoB,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;IACvF,oBAAoB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IAC1C,oBAAoB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;IAC3C,aAAa;IACb,YAAY,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IACvC,SAAS,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;IAClE,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACzF,KAAK;IACL,CAAC;;AAED,IAAO,SAAS,YAAY,CAAC,CAAC,EAAE,OAAO,EAAE;IACzC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC;;AAED,IAAO,SAAS,QAAQ,CAAC,CAAC,EAAE;IAC5B,IAAI,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IACtE,IAAI,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5B,IAAI,OAAO;IACX,QAAQ,IAAI,EAAE,YAAY;IAC1B,YAAY,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC;IAC/C,YAAY,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;IACpD,SAAS;IACT,KAAK,CAAC;IACN,CAAC;;AAED,IAAO,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;IAC7B,IAAI,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC/D,IAAI,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACrB,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;IACrC,IAAI,IAAI;IACR,QAAQ,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACnF,KAAK;IACL,IAAI,OAAO,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE;IAC3C,YAAY;IACZ,QAAQ,IAAI;IACZ,YAAY,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC7D,SAAS;IACT,gBAAgB,EAAE,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE;IACzC,KAAK;IACL,IAAI,OAAO,EAAE,CAAC;IACd,CAAC;;AAED,IAAO,SAAS,QAAQ,GAAG;IAC3B,IAAI,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE;IACtD,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7C,IAAI,OAAO,EAAE,CAAC;IACd,CAAC;;AAED,IAAO,SAAS,cAAc,GAAG;IACjC,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;IACxF,IAAI,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;IACpD,QAAQ,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE;IACzE,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,IAAI,OAAO,CAAC,CAAC;IACb,CAAC,CAAC;;AAEF,IAAO,SAAS,OAAO,CAAC,CAAC,EAAE;IAC3B,IAAI,OAAO,IAAI,YAAY,OAAO,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;;AAED,IAAO,SAAS,gBAAgB,CAAC,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE;IACjE,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;IAC3F,IAAI,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;IAClE,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IAC1H,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IAC9I,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE;IACtF,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,YAAY,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;IAC5H,IAAI,SAAS,OAAO,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE;IACtD,IAAI,SAAS,MAAM,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE;IACtD,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACtF,CAAC;;AAED,IAAO,SAAS,gBAAgB,CAAC,CAAC,EAAE;IACpC,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC;IACb,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IAChJ,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,QAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACnJ,CAAC;;AAED,IAAO,SAAS,aAAa,CAAC,CAAC,EAAE;IACjC,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;IAC3F,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;IACvC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,OAAO,QAAQ,KAAK,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IACrN,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IACpK,IAAI,SAAS,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE;IAChI,CAAC;;AAED,IAAO,SAAS,oBAAoB,CAAC,MAAM,EAAE,GAAG,EAAE;IAClD,IAAI,IAAI,MAAM,CAAC,cAAc,EAAE,EAAE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE;IACnH,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC,CAAC;;AAEF,IAAO,SAAS,YAAY,CAAC,GAAG,EAAE;IAClC,IAAI,IAAI,GAAG,IAAI,GAAG,CAAC,UAAU,EAAE,OAAO,GAAG,CAAC;IAC1C,IAAI,IAAI,MAAM,GAAG,EAAE,CAAC;IACpB,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,GAAG,EAAE,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IACnG,IAAI,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;IACzB,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC;;AAED,IAAO,SAAS,eAAe,CAAC,GAAG,EAAE;IACrC,IAAI,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;IAC5D,CAAC;;;;;;ICjMD;;;;;;;;;IAKA,SAAgB,aAAa,CAC3B,KAA2B,EAC3B,KAAa,EAAE,KAAsC,EACrD,MAAyB;QACzB,IAAKA,cAAQ,CAAC,KAAK,CAAC,IAAIC,cAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,EAAG;YAC/C,OAAO,YAAY,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SAC1C;QACD,OAAOC,eAAS,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,KAAK,KAAK,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;KACnE;;;;;;;IAKD,SAAgB,YAAY,CAAE,SAAiB,EAAE,KAAa;QAC5D,OAAOD,cAAQ,CAAC,SAAS,CAAC,IAAK,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI;;;;QAAC,UAAU,GAAG;YAClE,OAAOA,cAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,CAAC;SACvG,EAAC,CAAC;KACJ;;;;;;;;IAKD,SAAgB,cAAc,CAAE,SAAiB,EAAE,KAAa,EAAE,KAAa;QAC7E,OAAQA,cAAQ,CAAC,SAAS,CAAC;eACtBA,cAAQ,CAAC,KAAK,CAAC;eACfA,cAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;eACtB,KAAK,CAAC,KAAK,CAAC,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,CAAC;KAC/E;;;;;;;;;;IC9BD,SAAS,UAAU,CAAC,GAAW;QAC7B,OAAO,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;KACpD;;;;;IAED,0BAgBC;;;QAfC,yBAAO;;;;;QAEP,2BAAc;;;;;QAEd,4BAAe;;;;;QAEf,4BAAY;;;;;QAEZ,2BAAe;;;;;QAEf,6BAAiB;;;;;QAEjB,gCAAoG;;;;;;;;IAKtG,SAAgB,YAAY,CAA+C,YAAwC;;YAC3G,EAAE,GAAG,YAAY,CAAC,EAAE,GAAG,YAAY,CAAC,EAAE,GAAGE,UAAI,EAAE;;YAC/C,IAAI,GAAG,YAAY,CAAC,IAAI,KAAK,YAAY,CAAC,KAAK,IAAI,YAAY,CAAC,EAAE;YACnE,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,UAAK,YAAY,CAAC,KAAK,CAAC,QAAQ,EAAI,GAAG,SAAS,CAAC;QAE5F,IAAK,CAAC,YAAY,CAAC,SAAS,IAAI,YAAY,CAAC,KAAK,EAAG;;;YAGnD,YAAY,CAAC,SAAS,GAAG,aAAa,CAAC;SACxC;QAED,qCAAS,EAAE,IAAA,EAAE,IAAI,MAAA,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,MAAM,EAAE,KAAK,IAAK,YAAY,IAAqB;KAC/F;;;;;IAED,2BAEC;;;QADC,4BAAyB;;;;;;QAImCC,qCAA4C;QACxG,2BAAa,SAAiB;mBAC5B,kBAAM,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;SACtC;;;;;;;QAHU,iBAAiB;YAD7BC,iBAAW,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;;WACpB,iBAAiB,CAI7B;QAAD,wBAAC;KAAA,CAJ6DC,iBAAW;;;;;;;;;;QCrCXF,qCAAoD;QAChH,2BAAsB,KAA2B;YAAjD,YACE,kBAAM,KAAK,CAAC,SACb;YAFqB,WAAK,GAAL,KAAK,CAAsB;;SAEhD;;oBAF4B,iBAAiB;;;;;QADnC,iBAAiB;YAJ7BG,iBAAW,CAAC;gBACX,MAAM,EAAE,OAAO;gBACf,WAAW,EAAEC,WAAK,CAAC,GAAG;aACvB,CAAC;6CAE6B,iBAAiB;WADnC,iBAAiB,CAI7B;QAAD,wBAAC;KAAA,CAJ6DC,iBAAW,GAIxE;;;;;;QAHa,kCAAqC;;;;;;;;;;;ICgBnD,4BAKC;;;QAJC,yCAA0B;;QAC1B,kCAAkC;;;;;;IAKpC,sCAKC;;;QAJC,2CAAmB;;QACnB,gDAAwB;;QACxB,4CAAmB;;QACnB,iDAAwB;;;;;AAG1B;;;;QACUL,sCAA4B;QAUpC,4BAAsB,KAAqB,EAAU,MAA6B;YAA7B,uBAAA,EAAA,WAA6B;YAAlF,YACE,kBAAM,KAAK,EAAE,MAAM,CAAC,SAAS,CAAC,SAS/B;YAVqB,WAAK,GAAL,KAAK,CAAgB;YAAU,YAAM,GAAN,MAAM,CAAuB;YAN1E,aAAO,GAAY,KAAK,CAAC;YAQ/B,KAAI,CAAC,MAAM,YAAO,EAAC,gBAAgB,EAAE,KAAI,CAAC,QAAQ,EAAE,CAAC,SAAS,GAAG,SAAS,EAAC,EAAK,MAAM,CAAC,CAAC;YAExF,KAAI,CAAC,aAAa,GAAG,IAAI,iBAAiB,CAAI,KAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;YAC5E,KAAI,CAAC,aAAa,GAAG,IAAI,iBAAiB,CAAI,KAAI,CAAC,aAAa,CAAC,CAAC;YAElE,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAC,MAAM,EAAE,OAAO,EAAC,CAAC,CAAC;YACtE,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAC,MAAM,EAAE,OAAO,EAAE,QAAQ;;;;gBAAE,UAAA,MAAM,IAAI,OAAA,CAAC,MAAM,CAAC,IAAI,GAAA,CAAA,EAAC,CAAC,CAAC;YAC3G,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,YAAY,CAAC,MAAM;;;;YAAC,UAAA,KAAK,IAAI,OAAA,KAAK,IAAI,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,IAAI,GAAA,EAAC,CAAC;;SAClG;QAED,sBAAI,4CAAY;;;;YAAhB;gBACE,OAAO,IAAI,CAAC,aAAa,CAAC;aAC3B;;;WAAA;QAED,sBAAI,4CAAY;;;;YAAhB;gBACE,OAAO,IAAI,CAAC,aAAa,CAAC;aAC3B;;;WAAA;;;;;;;;;;;;;;;;;;;;;;QAWD,uCAAU;;;;;;;;;;;;QAAV,UACE,cAA2E,EAC3E,OAAqC;YAFvC,iBAwBC;YAtBC,wBAAA,EAAA,YAAqC;YACrC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;;YAGpB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,EAAC,MAAM,EAAE,OAAO,EAAE,QAAQ;;;;gBAAE,UAAA,MAAM,IAAI,OAAA,CAAC,MAAM,CAAC,MAAM,GAAA,CAAA,EAAC,CAAC,CAAC;;gBAErG,cAAc,GAA2B,EAAE;YACjD,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,EAAC,MAAM,EAAE,OAAO,EAAE,QAAQ;;;;gBAAE,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,MAAM,GAAA,CAAA,EAAC,CAAC,CAAC,CAAC;YAExG,IAAI,OAAO,CAAC,QAAQ,EAAE;gBACpB,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;aAC1C;YACDM,UAAK,CAAuE,cAAc,CAAC,CAAC,SAAS;;;YAAC;;oBAC9F,cAAc,GAA6C,cAAc,CAAC,KAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;gBAEnH,IAAI,cAAc,KAAK,KAAK,IAAIC,iBAAY,CAAC,cAAc,CAAC,EAAE;oBAC5D,cAAc,CAAC,SAAS;;;;oBAAC,UAAC,QAA4B;wBACpD,KAAI,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;qBAC/B,EAAC,CAAC;iBACJ;aACF,EAAC,CAAC;YACH,OAAO,IAAI,CAAC;SACb;;;;;;QAGD,sCAAS;;;;QAAT;YACE,OAAO,IAAI,CAAC,OAAO,CAAC;SACrB;;;;;;;;;;;;;;;;;;QAUD,0CAAa;;;;;;;;;QAAb;YACE,OAAO,IAAI,CAAC,kBAAkB,CAAC;SAChC;;;;;;;;;;;;;;QAQD,uCAAU;;;;;;;QAAV;YACE,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAC,QAAQ;;;;gBAAE,UAAA,MAAM,IAAI,OAAA,CAAC,MAAM,CAAC,IAAI,GAAA,CAAA,EAAC,CAAC,CAAC;SACtE;;;;;;;;;;;;;;QAQD,6CAAgB;;;;;;;QAAhB;YACE,OAAO,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAC,QAAQ;;;;gBAAE,UAAA,MAAM,IAAI,OAAA,CAAC,MAAM,CAAC,MAAM,GAAA,CAAA,EAAC,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;SAC3G;;;;;;;;;;;QAMD,+CAAkB;;;;;;QAAlB,UAAmB,OAEgC;YAFnD,iBAmBC;YAhBC,IAAI,OAAO,IAAI,OAAO,CAAC,QAAQ,EAAE;gBAC/B,OAAOC,kBAAa,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CACjFC,aAAG;;;;gBAAC,UAAC,EAAmB;wBAAnB,kBAAmB,EAAlB,eAAO,EAAE,gBAAQ;;wBACf,YAAY,GAAY,QAAQ;oBACtC,OAAO,KAAI,CAAC,uBAAuB,qBAAE,YAAY,KAAgC,OAAO,CAAC,CAAC;iBAC3F,EAAC,CACH,CAAC;aACH;iBAAM;gBAEL,OAAOD,kBAAa,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,IAAI,CACtGC,aAAG;;;;gBAAC,UAAC,EAAyB;wBAAzB,kBAAyB,EAAxB,eAAO,EAAE,gBAAQ,EAAE,YAAI;;wBACrB,YAAY,GAAY,QAAQ;oBACtC,OAAO,KAAI,CAAC,qBAAqB,qBAAE,YAAY,KAAyB,OAAO,EAAE,IAAI,CAAC,CAAC;iBACxF,EAAC,CACH,CAAC;aACH;SACF;;;;;;;;;QAKD,sCAAS;;;;;QAAT,UAAU,MAA+B;YACvC,IAAI,IAAI,CAAC,OAAO,IAAIC,iBAAW,CAAC,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE;gBACrD,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;aACtB;;gBACK,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC;YACnC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;SAC7C;;;;;;;;;QAKD,yCAAY;;;;;QAAZ,UAAa,EAAM;YACjB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SAC9B;;;;;;;;QAKD,yCAAY;;;;QAAZ;YACE,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;SAC5B;;;;;;;;;;QAKD,2CAAc;;;;;;QAAd,UAAwB,EAAU;YAChC,IAAI,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE;;oBAC7B,MAAM,GAAmB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE,CAAC;gBAC9D,OAAO,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;aAC3C;YAED,OAAO,IAAI,CAAC;SACb;;;;;;;;QAKD,yCAAY;;;;QAAZ;;gBACQ,KAAK,GAAoB,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE;YAC3D,OAAO,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;SACvC;;;;;;;;QAKM,yCAAY;;;;QAAnB;YACE,OAAO,IAAI,CAAC,cAAc,CAAC;SAC5B;;;;;;;;;QAKD,sCAAS;;;;;QAAT,UAAU,KAAuB;YAC/B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC,CAAC;SACzC;;;;;;;;;;;QAMD,iDAAoB;;;;;;QAApB,UAAqB,OAAqC;;YAArC,wBAAA,EAAA,YAAqC;;gBAClD,MAAM,GAAG,EAAE;YACjB,OAAO,cAAI,SAAS,EAAE,QAAQ,EAAE,cAAc,EAAE,aAAa,IAAK,OAAO,CAAC,CAAC;;gBAE3E,KAAqB,IAAA,KAAAC,SAAA,IAAI,CAAC,gBAAgB,EAAE,CAAA,gBAAA,4BAAE;oBAAzC,IAAM,MAAM,WAAA;oBACf,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;iBAClC;;;;;;;;;YAED,IAAI,OAAO,CAAC,QAAQ,EAAE;;oBACd,IAAI,GAAG,IAAI,CAAC,YAAY,EAAE;gBAChC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;aACnD;YAED,IAAI,OAAO,CAAC,aAAa,EAAE;gBACzB,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;aAChC;YAED,OAAO,MAAM,CAAC;SACf;;;;QAED,oCAAO;;;QAAP;YACE,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;;;;;;;QAKS,qCAAQ;;;;;QAAlB;YACE,OAAO,IAAI,CAAC,KAAK,CAAC;SACnB;;;;;;;QAGS,qCAAQ;;;;;QAAlB;YACE,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC;SAClC;;;;;;QAEO,uCAAU;;;;;QAAlB,UAAmB,GAAG;YACpB,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;iBACpB,GAAG;;;;YAAC,UAAA,CAAC,IAAI,OAAG,kBAAkB,CAAC,CAAC,CAAC,SAAI,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAG,GAAA,EAAC;iBAClE,IAAI,CAAC,GAAG,CAAC,CAAC;SACd;;;;;;;;QAEO,kDAAqB;;;;;;;QAA7B,UACE,QAA4B,EAC5B,OAAyB,EACzB,IAA0D;;gBACtD,gBAAgB,GAAG,QAAQ;YAC/B,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;gBACxB,gBAAgB,GAAG,QAAQ,CAAC,MAAM;;;;;;gBAAC,UAAC,MAAwB,EAAE,KAAa,EAAE,KAAyB;oBACpG,OAAO,OAAO,CAAC,KAAK;;;;oBAAC,UAAC,MAAsB;wBAC1C,IAAI,MAAM,CAAC,SAAS,EAAE;4BACpB,OAAO,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;yBACzD;wBACD,OAAO,IAAI,CAAC;qBACb,EAAC,CAAC;iBACJ,EAAC,CAAC;aACJ;YAED,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;;oBACjB,SAAO,GAAQC,gBAAU,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,GAAGC,mBAAa,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC;gBACzG,gBAAgB,YAAO,gBAAgB,CAAC,IAAI;;;;;gBAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,SAAO,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC,GAAA,EAAC,CAAC,CAAC;aAClF;YACD,OAAO,gBAAgB,CAAC;SACzB;;;;;;;QAEO,oDAAuB;;;;;;QAA/B,UACE,QAAmC,EACnC,OAAyB;YAF3B,iBAeC;YAZC,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;gBACxB,OAAO,QAAQ,CAAC;aACjB;;gBACO,eAAe,GAA8B,EAAE;YACrD,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO;;;;;YAAC,UAAC,SAAiB,EAAE,KAAa;;oBACvD,MAAM,sBAAqB,QAAQ,CAAC,SAAS,CAAC,EAAoB;gBACxE,IAAI,KAAI,CAAC,yBAAyB,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC,EAAE;oBACpE,eAAe,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC;iBACrC;aACF,EAAC,CAAC;YAEH,OAAO,eAAe,CAAC;SAC1B;;;;;;;;;QAEO,sDAAyB;;;;;;;;QAAjC,UAAkC,OAAyB,EACzB,MAAwB,EAAE,KAAa,EACvC,KAAqD;YACrF,OAAO,OAAO,CAAC,KAAK;;;;YAAC,UAAC,MAAsB;gBAC1C,IAAI,MAAM,CAAC,SAAS,EAAE;oBACpB,OAAO,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;iBACzD;gBACD,OAAO,IAAI,CAAC;aACb,EAAC,CAAC;SACJ;;;;;;QAES,8CAAiB;;;;;QAA3B,UAA4B,EAAK;YAC/B,OAAO,IAAI,CAAC;SACb;QACH,yBAAC;KAhSD,CACUC,4BAAsB,GA+R/B;;;;;;QA7RC,2CAAqD;;;;;QACrD,2CAAqD;;;;;QACrD,qCAAiC;;;;;QAEjC,6CAAsD;;;;;QACtD,4CAAqE;;;;;QACrE,gDAAkE;;;;;QAEtD,mCAA+B;;;;;QAAE,oCAAqC;;;;;;;;;;ACzCpF;;;;QAA2Fd,sCAAa;;;;;;;;QAYtG,4BAAY,KAA0C,EAAE,YAAuC;YAA/F,YACE,iBAAO,SAWR;YA8EO,gBAAU,GAAiB,IAAI,CAAC;YAChC,WAAK,GAAY,IAAI,CAAC;;;;YAKb,0BAAoB,GAAG,IAAIe,YAAO,EAAQ,CAAC;;;;YAE3C,iBAAW,GAAG,IAAIC,oBAAe,CAAM,EAAE,CAAC,CAAC;;;;YAE3C,iBAAW,GAAG,IAAID,YAAO,EAAQ,CAAC;;;;;YAQnD,gCAA0B,GAAGE,iBAAY,CAAC,KAAK,CAAC;YA1G9C,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YAExB,KAAI,CAAC,QAAQ,GAAG,YAAY,GAAG,YAAY,GAAG,IAAI,kBAAkB,CAAO,KAAK,CAAC,CAAC;YAClF,KAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,YAAY,CAAC;YACxC,KAAI,CAAC,OAAO,GAAG,IAAID,oBAAe,CAAC,CAAC,CAAC,CAAC;;gBAElC,KAAK,GAAG,CAAC;;YAEb,KAAI,CAAC,mBAAmB,GAAG,KAAI,CAAC,QAAQ,CAAC,kBAAkB,EAAE,CAAC;YAC9D,KAAI,CAAC,yBAAyB,EAAE,CAAC;;SAClC;QAKD,sBAAI,sCAAM;;;;;;;;YAAV,UAAW,WAAmB;gBAC5B,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;aAC3B;;;WAAA;QASD,sBAAI,sCAAM;;;;;;;;;;;;;;;;YAAV,UAAW,WAAmB;gBAC5B,IAAI,WAAW,KAAK,EAAE,EAAE;oBACtB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;iBACtC;qBAAM;oBACL,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAC,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAC,CAAC,CAAC;iBAC7D;aACF;;;WAAA;QAMD,sBAAI,oCAAI;;;;;;;;;;;YAAR,UAAS,IAAa;gBAAtB,iBAYC;gBAXC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClB,IAAI,CAAC,UAAU,CAAC,IAAI,CAACE,mBAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS;;;;gBAAC,UAAC,SAAe;oBAC1E,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;wBACtB,MAAM,qBAAE,SAAS,CAAC,MAAM,EAAW;wBACnC,WAAW,EAAE,SAAS,CAAC,SAAS,KAAK,MAAM,GAAGd,WAAK,CAAC,IAAI,GAAGA,WAAK,CAAC,GAAG;qBACrE,CAAC,CAAC;iBACJ,EAAC,CAAC;gBAEH,IAAI,CAAC,WAAW,CAAC,SAAS;;;gBAAC;oBACzB,KAAI,CAAC,cAAc,oBAAC,IAAI,CAAC,MAAM,IAAa,IAAI,CAAC,SAAS,KAAK,MAAM,GAAGA,WAAK,CAAC,IAAI,GAAGA,WAAK,CAAC,GAAG,CAAC,CAAC;iBACjG,EAAC,CAAC;aACJ;;;WAAA;QAYD,sBAAI,yCAAS;;;;;;;;;;;;;;;;;;;;;;YAAb;gBACE,OAAO,IAAI,CAAC,UAAU,CAAC;aACxB;;;;;YAED,UAAc,SAAuB;gBACnC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;gBAC5B,IAAI,CAAC,yBAAyB,EAAE,CAAC;aAClC;;;WALA;QAUD,sBAAI,4CAAY;;;;;;;;YAAhB;gBACE,OAAO,IAAI,CAAC,QAAQ,CAAC;aACtB;;;WAAA;QAID,sBAAI,kDAAkB;;;;;;;;YAAtB;gBACE,OAAO,IAAI,CAAC,QAAQ,CAAC;aACtB;;;WAAA;;;;;;QA0BO,yCAAY;;;;;QAApB,UAAqB,KAAU;;gBACvB,KAAK,GAAG,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC;YAC7C,IAAI,KAAK,KAAK,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;gBACrC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAEzB,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;aAC9B;SACF;;;;;;;;;;;;QAMO,sCAAS;;;;;;;QAAjB,UAAkB,IAAS;YACzB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YACxB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBAAE,OAAO,IAAI,CAAC;aAAE;;gBAE/B,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ;YACrE,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;SACrE;;;;;;;;;QAKD,sCAAS;;;;;QAAT,UAAU,MAA+B;YACvC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SACjC;;;;;;;;;QAKD,sCAAS;;;;;QAAT,UAAU,MAA+B;YACvC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SACjC;;;;;;;;;QAKD,yCAAY;;;;;QAAZ,UAAa,EAAM;YACjB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;SAChC;;;;;;;;QAKD,yCAAY;;;;QAAZ;YACE,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;SAC9B;;;;;;;;;;QAKD,2CAAc;;;;;;QAAd,UAAsB,EAAU;YAC9B,OAAO,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;SACzC;;;;;;;;;;;;QAOM,2CAAc;;;;;;QAArB,UACE,UAAmB,EACnB,SAAiC;YAAjC,0BAAA,EAAA,iBAAiC;YAEjC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;gBACtB,MAAM,EAAE,UAAU;gBAClB,WAAW,EAAE,SAAS,KAAK,MAAM,GAAGA,WAAK,CAAC,IAAI,GAAGA,WAAK,CAAC,GAAG;aAC3D,CAAC,CAAC;SACJ;;;;;;;;QAKD,wCAAW;;;;QAAX;YACE,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;SACpC;;;;;;;;QAKD,qCAAQ;;;;QAAR;YACE,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;SAChC;;;;;;;;;;;;QAOD,sDAAyB;;;;;;QAAzB;;;;;;;YAAA,iBAsBC;;;;;;;;gBAdO,UAAU,GAAoC,IAAI,CAAC,UAAU;mCACjEE,UAAK,CACH,IAAI,CAAC,UAAU,CAAC,IAAI,EACpB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CAAC,UAAU,CAAC,WAAW,CAC5B;gBACDa,OAAE,CAAC,IAAI,CAAC;;gBAEJ,aAAa,GAAGX,kBAAa,CAAC,IAAI,CAAC,mBAAmB,EAAE,UAAU,CAAC;iBACtE,IAAI,CAACC,aAAG;;;;YAAC,UAAC,EAAM;oBAAN,kBAAM,EAAL,YAAI;gBAAM,OAAA,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC;aAAA,EAAC,CAAC;;YAE9C,IAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE,CAAC;YAC9C,IAAI,CAAC,0BAA0B,GAAG,aAAa,CAAC,IAAI,CAACS,mBAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS;;;;YAAC,UAAA,IAAI,IAAI,OAAA,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAA,EAAC,CAAC;YACjI,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;SAClC;;;;;;;;;;;;;QAOD,6CAAgB;;;;;;;QAAhB,UAAiB,kBAA0B;YAA3C,iBAsBC;YArBC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI;;;YAAC;;oBACf,SAAS,GAAG,KAAI,CAAC,SAAS;gBAEhC,IAAI,CAAC,SAAS,EAAE;oBAAE,OAAO;iBAAE;gBAE3B,SAAS,CAAC,MAAM,GAAG,kBAAkB,CAAC;;gBAGtC,IAAI,SAAS,CAAC,SAAS,GAAG,CAAC,EAAE;;wBACrB,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;;wBACzE,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,SAAS,EAAE,aAAa,CAAC;oBAEjE,IAAI,YAAY,KAAK,SAAS,CAAC,SAAS,EAAE;wBACxC,SAAS,CAAC,SAAS,GAAG,YAAY,CAAC;;;wBAInC,KAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;qBAClC;iBACF;aACF,EAAC,CAAC;SACJ;;;;;;;;QAKD,oCAAO;;;;QAAP;YACE,OAAO,IAAI,CAAC,WAAW,CAAC;SACzB;;;;;;;;;;QAOD,uCAAU;;;;;QAAV;YACE,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;gBAC3B,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;gBAC7B,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;aACzB;YACD,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;YACxB,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;SAC7B;QACH,yBAAC;KA7RD,CAA2FE,gBAAU,GA6RpG;;;;;;QA3LC,wCAAmC;;;;;QACnC,sCAAoD;;;;;;QAEpD,+CAAmC;;;;;QACnC,wCAAwC;;;;;QACxC,mCAA8B;;;;;QAE9B,iDAA6C;;;;;QAC7C,qCAAyC;;;;;;QAEzC,kDAA4D;;;;;;QAE5D,yCAA4D;;;;;;QAE5D,yCAAmD;;;;;;QAQnD,wDAAgD;;;;;;;;;;;;;;;;;;;;"}